<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>JSON Test</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <script type="text/javascript" src="jquery-1.11.2.js"></script>
    <script type="text/javascript" src="pageDatabase.js"></script>
</head>
<body>

<script type="text/javascript">  

function printPageText(currentPageID){
    document.write(jsonDatabase.pages[currentPageID].bodyText);
}


function printPageLinks(currentPageID){
    var resultLength = jsonDatabase.pages[currentPageID].choiceLinks.length;
    for(var i=0;i<resultLength; i++){
        // document.write("<a href='" + jsonDatabase.pages[currentPageID].choiceLinks[i].linkDestination + "'>" + jsonDatabase.pages[currentPageID].choiceLinks[i].linkText + "</a> ");
        document.write("<a href='javascript:addNewSection(" + jsonDatabase.pages[currentPageID].choiceLinks[i].linkDestination + ");'>" + jsonDatabase.pages[currentPageID].choiceLinks[i].linkText + "</a> ");
    }
}


function addNewSection(newSectionID){
    var newSection = "<section id='page-" + newSectionID + "'><p>Paragraph</p><div>" + printPageText(newSectionID) + "</div></section>";
    $("div#content").append(newSection);
}

</script>
    
<div id="content">
    <section>
        <p><script type="text/javascript">printPageText(0);</script></p>
        <div><script type="text/javascript">printPageLinks(0);</script></div>
    </section>
</div>

</body>
</html>